# Inductive Definitions

## Rule Inductions

We are interested in defining a set by rules. Given a set of rule instances $R$, we write $I_R$ for the set defined by $R$ consisting of those elements $y$ for which there is a derivation.

$$ I_R = \{ y \in E | \Vdash_R y \}. $$

The principle of **rule induction** is useful to show a property is true for all the elements in a set defined by some rules.

### The General Principle of Rule Induction

$$ \forall x \in I_R.P(x) \Longleftrightarrow \forall (X/y) \in R.[(X \subseteq I_R \land \forall x \in X.P(x)) \Rightarrow P(y)]. $$

- **Intuition.**
  - If a property is preserved in moving from the premises to the conclusion of all rule instances in a derivation,
  - Then the conclusion of the derivation has the property.
  - Hence the property is true for all elements in the set defined by the rules.
- **Base step.** Cases when $X = \emptyset$ (Axioms).
- **Inductive step.** Cases when $X \neq \emptyset$.

### Closedness

A set $Q$ is **closed** under rule instances $R$, or **$R$-closed**, iff

$$ \forall (X/y) \in R.(X \subseteq R \Rightarrow y \in Q). $$

I.e., a set $Q$ is closed under $R$ if whenever the premises of any rule instances lie in this set, then so does its conclusion.

**Proposition.** Let $R$ be a set of rule instances, and $Q$ be a set of elements, we have

- $I_R$ is $R$-closed.
- If $Q$ is an $R$-closed set then $I_R \subseteq Q$.

*Proof.*

1. Can be proved by definition of $I_R$.
   - Let $(X/y) \in R$ be a rule instance and $X \subseteq R$.
   - Assume $X$ is nonempty.
   - Each $x_i$ in $X$ has a derivation by definition of $I_R$.
   - Combining the derivations for $x_i$'s and $(X/y)$ yields a derivation for $y$.
   - Hence $y \in I_R$.
2. Can be proved by an induction on derivation tree and show that
   - $\forall y \in I_R. d \Vdash_R y \Rightarrow y \in Q.$

### Proof of Rule Induction Principle

Suppose we want to prove a property $P$ holds for all elements in the set defined by rules $R$. Let

$$ Q = \{ x \in I_R | P(x) \} \subseteq I_R.$$

The goal is to show $I_R \subseteq Q$, so that $I_R = Q$, i.e., all elements in $I_R$ satisfies $P$.

By condition (2) in the proposition, we only need to show $Q$ is $R$-closed,

$$ \forall (X/y) \in R.(X \subseteq R \Rightarrow y \in Q). $$

Or equivalently

$$ \forall (X/y) \in R.[(\forall x \in X. x \in I_R \land P(x)) \Rightarrow P(y)], $$

which is exactly what the induction step aims to prove.

## Special Rule Inductions

- **General Rule Induction.** A property for *all* elements.
- **Special Rule Induction.** A property for *a part of* elements.

Imagine proving a property on the set of commands $\mathbf{Com}$. We would end up having to prove this property on arithmetic and boolean expressions as well because commands are made up of expressions.

A modified principle of rule induction is required for establishing properties of *subsets* of the set defined by rules.

### Special Principle of Rule Induction

- $R$: A set of rule instances.
- $A \subseteq I_R$: A subset of $I_R$.
- $Q$: A predicate over $I_R$.

We have $\forall a \in A.Q(a)$ if and only if

$$ \forall (X/y)\in R.[(X \subseteq I_R \land y \in A \land (\forall x \in X \cap A.Q(x))) \Rightarrow Q(y)]. $$
